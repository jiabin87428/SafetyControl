{"version":3,"sources":["webpack:///F:/HBuilderProjects/SafetyControl/pages/pointAdd/pointCheckInfo.vue","webpack:///F:/HBuilderProjects/SafetyControl/pages/pointAdd/pointCheckInfo.vue?5d13","webpack:///F:/HBuilderProjects/SafetyControl/pages/pointAdd/pointCheckInfo.vue?c272","webpack:///F:/HBuilderProjects/SafetyControl/main.js","webpack:///F:/HBuilderProjects/SafetyControl/pages/pointAdd/pointCheckInfo.vue?31fa","webpack:///F:/HBuilderProjects/SafetyControl/pages/pointAdd/pointCheckInfo.vue?6ec1","webpack:///F:/HBuilderProjects/SafetyControl/pages/pointAdd/pointCheckInfo.vue?78e2","webpack:///F:/HBuilderProjects/SafetyControl/pages/pointAdd/pointCheckInfo.vue?a4e9"],"names":["computed","components","uniList","uniListItem","data","needGetInputOnShow","typeArray","rectifyTypes","item","itemIndex","imageViewHeight","imageList","littleImageWidth","onLoad","option","console","log","JSON","parse","index","uni","getSystemInfoSync","windowWidth","fj","imgList","i","length","imgObj","imgUrl","config","host","loadImage","fileId","userInfo","userid","imgItem","fileid","src","type","push","onShow","key","inputPageText","methods","bindTypeChange","e","jcjl","detail","value","zgfs","bindRectifyChange","jumpInput","text","navigateTo","url","saveItem","that","uploadImage","id","startsWith","saveLocalItem","navigateBack","delta","showLoading","title","request","res","stringify","result","hideLoading","showToast","complete","setTimeout","obj","setSublistItem","deleteImage","param","from","yyid","requestLoading","splice","icon","viewPhoto","previewImage","urls","addPhoto","chooseImage","count","sizeType","sourceType","success","tempFilePaths","Page","App"],"mappings":"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A,wBAAwB,0BAA0B;AAClD,0BAA0B,6BAA6B;AACvD,4BAA4B,0BAA0B;AACtD,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,eAAe;AACf;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,wBAAwB,6BAA6B;AACrD,0BAA0B,0BAA0B;AACpD,0BAA0B,2BAA2B;AACrD;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,aAAa;AACb;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,qBAAqB;AACrB,eAAe;AACf;AACA,4BAA4B,0BAA0B;AACtD,8BAA8B,6BAA6B;AAC3D,gCAAgC,0BAA0B;AAC1D;AACA;AACA,gCAAgC,2BAA2B;AAC3D;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA,wBAAwB,+BAA+B;AACvD,0BAA0B,gCAAgC;AAC1D,4BAA4B,6BAA6B;AACzD;AACA;AACA,4BAA4B,8BAA8B;AAC1D;AACA;AACA;AACA;AACA;AACA,iBAAiB,mCAAmC,kBAAkB,EAAE;AACxE;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,iCAAiC;AACjC,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,8BAA8B,wBAAwB;AACtD,2BAA2B;AAC3B,qBAAqB;AACrB;AACA;AACA;AACA,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,yBAAyB;AAChC;AACA;AACA;AACA;AACA;AACA,oBAAoB,yCAAyC;AAC7D,iBAAiB;AACjB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChMA;AACA;AACI,yL;AACAiE,IAAI,CAAC,+BAAYC,uBAAZ,CAAD,CAAJ,C;;;;;;;;;;;;ACHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6F;AAC3B;AACL;AACa;;;AAG1E;AACgJ;AAChJ,gBAAgB,6JAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAA2sB,CAAgB,iuBAAG,EAAC,C;;;;;;;;;;;;ACA/tB;AAAA;AAAA;AAAA;AAA0zB,CAAgB,w0BAAG,EAAC,C;;;;;;;;;;;;ACA90B;AAAA;AAAA;AAAA;AAAA;AAAA","file":"pages/pointAdd/pointCheckInfo.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport uniList from '@/components/list/uni-list/uni-list.vue'\nimport uniListItem from '@/components/list/uni-list-item/uni-list-item.vue'\nimport config from '../../util/config.js';\nimport request from '../../util/request.js';\nimport {\n    mapState,\n\tmapMutations\n} from 'vuex'\nexport default {\n\tcomputed: mapState(['inputPageText', 'key', 'userInfo']),\n\tcomponents: {uniList,uniListItem},\n\tdata() {\n\t    return {\n\t\t\t// 当页面OnShow的时候是否需要从state里去拿输入的内容\n\t\t\tneedGetInputOnShow: false,\n\t\t\t\n\t\t\ttypeArray: ['正常', '未检', '异常'],\n\t\t\trectifyTypes: ['发起隐患整改单'],\n\t        item: '',\t\t// subList中的对象\n\t\t\titemIndex: 0,\t// subList中的第几个数据，用于确定后替换原数据\n\t\t\t\n\t\t\t// 上传照片相关\n\t\t\timageViewHeight: 100,\n\t\t\timageList: [],\n\t\t\tlittleImageWidth: 0,\n\t    }\n\t},\n\tonLoad(option) {\n\t\tconsole.log('测试：' + option.item)\n\t\tthis.item = JSON.parse(option.item);\n\t\tthis.itemIndex = JSON.parse(option.index);\n\t\tthis.littleImageWidth = (uni.getSystemInfoSync().windowWidth -50) / 4;\n\t\tif(this.item.fj == null) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.item.fj != \"\") {\n\t\t\tconsole.log('FJ:' + this.item.fj);\n\t\t\tlet imgList = JSON.parse(this.item.fj);\n\t\t\tfor(var i=0; i<imgList.length; i++) {\n\t\t\t\tlet imgObj = imgList[i];\n\t\t\t\tlet imgUrl = config.host + config.loadImage + imgObj.fileId + \"&userid=\" + this.userInfo.userid;\n\t\t\t\tlet imgItem = {\n\t\t\t\t\tfileid: imgObj.fileId,\n\t\t\t\t\tsrc: imgUrl,\n\t\t\t\t\ttype: 2\n\t\t\t\t}\n\t\t\t\tthis.imageList.push(imgItem);\n\t\t\t}\n\t\t}\n\t},\n\tonShow() {\n\t\tif (this.needGetInputOnShow == true) {\n\t\t\tthis.item[this.key] = this.inputPageText;\n\t\t\tthis.needGetInputOnShow = false;\n\t\t}\n\t},\n\tmethods:{\n\t\t...mapMutations(['setSublistItem']),\n\t\tbindTypeChange(e) {\n\t\t\tthis.item.jcjl = this.typeArray[e.detail.value];\n\t\t\tif (this.item.jcjl == \"正常\") {\n\t\t\t\tthis.item.zgfs = \"\";\n\t\t\t}\n\t\t},\n\t\tbindRectifyChange(e) {\n\t\t\tthis.item.zgfs = this.rectifyTypes[e.detail.value];\n\t\t},\n\t\tjumpInput(text) {\n\t\t\tthis.needGetInputOnShow = true;\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../common/inputPage?text=' + text + '&key=jcwtms&placeholder=请输入问题描述',\n\t\t\t})\n\t\t},\n\t\tsaveItem() {\n\t\t\tvar that = this;\n\t\t\t\n\t\t\t// 上传照片，需要分两种情况，如是从后台加载的，不需要调用上传接口，如果是本地读取还未上传的，需要调上传接口\n\t\t\t\n\t\t\tlet url = config.uploadImage + '?from=jc&yyid=' + that.item.id + '&userid=' + that.userInfo.userid\n\t\t\tvar imgList = []\n\t\t\tfor (var i=0 ; i<that.imageList.length; i++) {\n\t\t\t\tlet item = that.imageList[i]\n\t\t\t\tif (item.type == 1 && !item.src.startsWith('http:')) {\n\t\t\t\t\timgList.push(item.src);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(imgList.length == 0) {\n\t\t\t\tthat.saveLocalItem();\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: 1\n\t\t\t\t})\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '正在上传图片'\n\t\t\t})\n\t\t\trequest.uploadImage(url, imgList, 0, 0, 0, imgList.length, function (res) {\n\t\t\t\tlet data = JSON.parse(res.data);\n\t\t\t\tlet fj = data.fj;\n\t\t\t\tthat.item.fj = fj;\n\t\t\t\tconsole.log('Item:',JSON.stringify(that.item));\n\t\t\t}, function(result){\n\t\t\t\tuni.hideLoading();\n\t\t\t\tif (result == '200') {\n\t\t\t\t\tthat.saveLocalItem();\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t  title: '上传成功',\n\t\t\t\t\t  complete: setTimeout(function () {\n\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t})\n\t\t\t\t\t  }, 1500)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 缓存Item，给上一个页面获取\n\t\tsaveLocalItem() {\n\t\t\tlet obj = {\n\t\t\t\titem: this.item,\n\t\t\t\tindex: this.itemIndex\n\t\t\t}\n\t\t\tthis.setSublistItem(obj);\n\t\t},\n\t\t\n\t\t// 删除照片，需要分两种情况，如是从后台加载的，那需要调用删除接口，如果是直接本地读取还未上传的，不需要调删除接口\n\t\tdeleteImage(imgObj, index) {\n\t\t\tvar that = this;\n\t\t\tif (imgObj.src.startsWith('http:')) {// 网络图片\n\t\t\t\tlet obj = {\n\t\t\t\t\titem: that.item,\n\t\t\t\t\tindex: that.itemIndex\n\t\t\t\t}\n\t\t\t\tthat.setSublistItem(obj);\n\t\t\t\t\n\t\t\t\tlet param = {\n\t\t\t\t\tfrom: 'jc',\n\t\t\t\t\tyyid: that.item.id,\n\t\t\t\t\tfileid: imgObj.fileid,\n\t\t\t\t\tuserid: that.userInfo.userid\n\t\t\t\t};\n\t\t\t\trequest.requestLoading(config.deleteImage, param, '正在删除图片', \n\t\t\t\t\tfunction(res){\n\t\t\t\t\t\tconsole.log('删除成功：' + JSON.stringify(res));\n\t\t\t\t\t\tthat.item.fj = res.fj\n\t\t\t\t\t\tthat.imageList.splice(index,1);\n\t\t\t\t\t},function(){\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: '删除失败'\n\t\t\t\t\t\t});\n\t\t\t\t\t}, function(){\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}else {// 刚选择好，还未上传，非网络图片\n\t\t\t\tthat.imageList.splice(index,1);\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 浏览照片\n\t\tviewPhoto() {\n\t\t\tvar that = this;\n\t\t\tvar imgList = []\n\t\t\tfor (var i=0 ; i<that.imageList.length; i++) {\n\t\t\t\tlet item = that.imageList[i]\n\t\t\t\timgList.push(item.src);\n\t\t\t}\n\t\t\t// 预览图片\n\t\t\tuni.previewImage({\n\t\t\t\turls: imgList\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 上传照片功能-添加照片\n\t\taddPhoto() {\n\t\t\tvar that = this;\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 9, //默认9\n\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['album', 'camera'], //从相册选择\n\t\t\t\tsuccess: function (res) {\n\t\t\t\t\tconsole.log(JSON.stringify(res.tempFilePaths));\n\t\t\t\t\tfor (var i=0;i<res.tempFilePaths.length;i++) {\n\t\t\t\t\t\tvar imgObj = {//\ttype：1为新增需要上传，2为加载的，不需要上传\n\t\t\t\t\t\t\tfileid: '',\n\t\t\t\t\t\t\tsrc: res.tempFilePaths[i],\n\t\t\t\t\t\t\ttype: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.imageList.push(imgObj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"baseView\" }, [\n    _c(\"view\", { staticClass: \"cellTitleView\" }, [\n      _c(\"text\", { staticClass: \"cellTitle\" }, [_vm._v(_vm._s(_vm.item.jcbz))])\n    ]),\n    _c(\n      \"view\",\n      { staticClass: \"cellInfoView\" },\n      [\n        _c(\n          \"picker\",\n          {\n            attrs: {\n              value: _vm.index,\n              range: _vm.typeArray,\n              eventid: \"5cc55c49-0\"\n            },\n            on: { change: _vm.bindTypeChange }\n          },\n          [\n            _c(\"view\", { staticClass: \"cellView\" }, [\n              _c(\"view\", { staticClass: \"cellSubView\" }, [\n                _c(\"text\", { staticClass: \"leftText\" }, [_vm._v(\"检查结论\")]),\n                _c(\"view\", { staticClass: \"rightText\" }, [\n                  _vm._v(_vm._s(_vm.item.jcjl))\n                ])\n              ]),\n              _c(\"image\", {\n                staticClass: \"arrow\",\n                attrs: { src: \"../../static/img/rightArrow.png\" }\n              })\n            ])\n          ]\n        ),\n        _c(\"view\", { staticClass: \"line\" }),\n        _c(\n          \"view\",\n          {\n            staticClass: \"cellView\",\n            attrs: { eventid: \"5cc55c49-1\" },\n            on: {\n              click: function($event) {\n                _vm.jumpInput(_vm.item.jcwtms)\n              }\n            }\n          },\n          [\n            _c(\"view\", { staticClass: \"cellSubView\" }, [\n              _c(\"text\", { staticClass: \"leftText\" }, [_vm._v(\"问题描述\")]),\n              _c(\"view\", { staticClass: \"rightText\" }, [\n                _vm._v(_vm._s(_vm.item.jcwtms))\n              ])\n            ]),\n            _c(\"image\", {\n              staticClass: \"arrow\",\n              attrs: { src: \"../../static/img/rightArrow.png\" }\n            })\n          ]\n        ),\n        _c(\"view\", { staticClass: \"line\" }),\n        _vm.item.jcjl == \"异常\"\n          ? _c(\n              \"picker\",\n              {\n                attrs: {\n                  value: _vm.index,\n                  range: _vm.rectifyTypes,\n                  eventid: \"5cc55c49-2\"\n                },\n                on: { change: _vm.bindRectifyChange }\n              },\n              [\n                _c(\"view\", { staticClass: \"cellView\" }, [\n                  _c(\"view\", { staticClass: \"cellSubView\" }, [\n                    _c(\"text\", { staticClass: \"leftText\" }, [\n                      _vm._v(\"整改方式\")\n                    ]),\n                    _c(\"view\", { staticClass: \"rightText\" }, [\n                      _vm._v(_vm._s(_vm.item.zgfs))\n                    ])\n                  ]),\n                  _c(\"image\", {\n                    staticClass: \"arrow\",\n                    attrs: { src: \"../../static/img/rightArrow.png\" }\n                  })\n                ])\n              ]\n            )\n          : _vm._e(),\n        _c(\"view\", { staticClass: \"line\" }),\n        _vm.item.id != \"\"\n          ? _c(\"view\", { staticClass: \"imageBaseView\" }, [\n              _c(\"view\", { staticClass: \"cellSubViewRow\" }, [\n                _c(\"text\", { staticClass: \"leftTextRow\" }, [\n                  _vm._v(\"隐患照片\")\n                ]),\n                _c(\"text\", { staticClass: \"rightTextRow\" }, [\n                  _vm._v(_vm._s(_vm.imageList.length))\n                ])\n              ]),\n              _c(\n                \"view\",\n                { staticClass: \"imageView\", attrs: { id: \"imageView\" } },\n                [\n                  _vm._l(_vm.imageList, function(imgObj, idx) {\n                    return _c(\"block\", { key: idx }, [\n                      _c(\n                        \"view\",\n                        {\n                          staticClass: \"littleImageView\",\n                          style: {\n                            width: _vm.littleImageWidth + \"px\",\n                            height: _vm.littleImageWidth + \"px\"\n                          }\n                        },\n                        [\n                          _c(\"image\", {\n                            staticClass: \"littleImage\",\n                            attrs: {\n                              id: idx,\n                              src: imgObj.src,\n                              mode: \"aspectFit\",\n                              eventid: \"5cc55c49-3-\" + idx\n                            },\n                            on: { click: _vm.viewPhoto }\n                          }),\n                          _c(\"image\", {\n                            staticClass: \"littleImageDelete\",\n                            attrs: {\n                              src: \"../../static/img/delete.png\",\n                              id: idx,\n                              mode: \"aspectFit\",\n                              eventid: \"5cc55c49-4-\" + idx\n                            },\n                            on: {\n                              click: function($event) {\n                                _vm.deleteImage(imgObj, idx)\n                              }\n                            }\n                          })\n                        ]\n                      )\n                    ])\n                  }),\n                  _c(\n                    \"view\",\n                    {\n                      staticClass: \"littleImageView\",\n                      style: {\n                        width: _vm.littleImageWidth + \"px\",\n                        height: _vm.littleImageWidth + \"px\"\n                      },\n                      attrs: { eventid: \"5cc55c49-5\" },\n                      on: { click: _vm.addPhoto }\n                    },\n                    [\n                      _c(\"image\", {\n                        staticClass: \"littleImage\",\n                        attrs: { src: \"../../static/img/addImage.png\" }\n                      })\n                    ]\n                  )\n                ],\n                2\n              )\n            ])\n          : _vm._e()\n      ],\n      1\n    ),\n    _c(\n      \"view\",\n      { staticClass: \"btn-row\" },\n      [\n        _c(\n          \"button\",\n          {\n            staticClass: \"primary\",\n            attrs: { type: \"primary\", eventid: \"5cc55c49-6\" },\n            on: { tap: _vm.saveItem }\n          },\n          [_vm._v(\"确定\")]\n        )\n      ],\n      1\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/pointAdd/pointCheckInfo.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./pointCheckInfo.vue?vue&type=template&id=3861ae60&\"\nimport script from \"./pointCheckInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./pointCheckInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pointCheckInfo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3861ae60', component.options)\n    } else {\n      api.reload('3861ae60', component.options)\n    }\n    module.hot.accept(\"./pointCheckInfo.vue?vue&type=template&id=3861ae60&\", function () {\n      api.rerender('3861ae60', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/HBuilderProjects/SafetyControl/pages/pointAdd/pointCheckInfo.vue\"\nexport default component.exports","import mod from \"-!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./pointCheckInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./pointCheckInfo.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./pointCheckInfo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./pointCheckInfo.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\developmentProgram\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./pointCheckInfo.vue?vue&type=template&id=3861ae60&\""],"sourceRoot":""}