<template>
	<view class="part2">  
		<block>
			<view class="titleView_pc">
				<text class="titleText_pc">工况</text>
			</view>
			<view class="menuBlockView">
			  <view class='dangerView' @tap="jumpPage('rapConsider')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/9.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>地下作业</text>
			    </view>
			  </view>
			  <!-- <view class='dangerView'>
			  </view> -->
			</view>
			
			<view class="titleView_pc">
				<text class="titleText_pc">操作</text>
			</view>
			<view class="menuBlockView">
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/100-1.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>气密测试</text>
			    </view>
			  </view>
			  <!-- <view class='dangerView'>
			  </view> -->
			</view>
			
			<view class="titleView_pc">
				<text class="titleText_pc">工具</text>
			</view>
			<view class="menuBlockView">
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			  <view class='dangerView' @tap="jumpPage('')">
			    <image class="dangerIcon" src="../../static/img/rap/5.jpg" mode="widthFix"></image>
			    <view class='subView'>
			      <text class='dangerText'>喷砂作业</text>
			    </view>
			  </view>
			</view>
		</block>
	</view>
</template>

<script>
	import uniDrawer from "@/components/drawer/uni-drawer.vue"
	import config from '../../util/config.js';
	import {
	    mapState,
	    mapMutations
	} from 'vuex'
	export default {
		computed: {
		    ...mapState(['hasLogin', 'forcedLogin', 'userType', 'userInfo'])
		},
		components: {uniDrawer},
		data() {
			return {
				// 右上角的按钮菜单
				navBtnMuen: [],
				// 当前主题: 0、默认主题 1、安全标准化主题 2、ISO45001主题
				currentTemplate: 0,
			}
		},
		onLoad() {
			let hydrantTab = {
				name: '当月未检查',
				id: '/mobile/xhsdywjclb.do'
			}
			this.saveTabInfo('消火栓', hydrantTab);
			
			let valveTab = {
				name: '本周未检查',
				id: '/mobile/fzzwjclb.do'
			}
			this.saveTabInfo('阀组', valveTab);
			
			let waterTab = {
				name: '当天未检查',
				id: '/mobile/jtwjclb.do'
			}
			this.saveTabInfo('高位水箱', waterTab);
			this.saveTabInfo('消防泵', waterTab);
			
			this.setCurrentTemp();
		},
		onNavigationBarButtonTap() {
			var that = this;
			uni.showActionSheet({
				itemList: that.navBtnMuen,
				success: function (res) {
					console.log('选中了第' + (res.tapIndex + 1) + '个按钮');
					uni.showLoading({
						title: '正在切换主题...',
					});
					setTimeout(function () {
						uni.hideLoading();
						that.currentTemplate = res.tapIndex;
						that.setCurrentTemp();
					}, 1000);
				},
				fail: function (res) {
					console.log(res.errMsg);
				}
			});
		},
		methods:{
			// 设定当前选择的主题
			setCurrentTemp() {
				this.navBtnMuen = ['默认主题', '安全标准化主题', 'ISO45001主题'];
				this.navBtnMuen[this.currentTemplate] += '[当前]';
			},
			jumpPage(url) {
				if (url == '') {
					uni.showToast({
						icon: 'none',
						title: '敬请期待～',
					})
					return;
				}else {
					uni.navigateTo({
						url: url
					});
				}
			},
			jumpPageForYCYJ(){
				plus.runtime.openWeb(config.host+config.getYjzsStatics)
			},
			saveTabInfo(key, data){
				uni.setStorage({
						key: key,
						data: data,
						success: function () {
								console.log('保存成功');
						}
				});
			}
		},
	}
</script>

<style>
	/* 轮播图 */  
	.part2{  
	  display: flex;
	  flex: 1;
	  flex-direction: column;
	  background-color: #F1F1F1;
	}   
	.banner-box{  
		width: 100%;  
		/* height: 100%;  */
	}  
	.banner-image{  
		width: 100%;  
		height: 100%;  
	}  
	/* 菜单按钮 */
	.menuBlockView {
	  width: 100%;
	  background-color: #FFFFFF;
	  display: flex;
	  flex-wrap: wrap;
	  flex-direction: row;
	  justify-content: space-around;
	  padding-bottom: 30upx;
	}
	.dangerView {
	  display:flex;
	  flex-direction:column;
	  width: 20%;
	  margin-top: 30px;
	  align-items:center;/*垂直居中*/
	}
	.dangerIcon {
	  width: 80upx;
	  height: 80upx;
	}

	.subView {
	  display:flex;
	  flex-direction:column;
	  width: 100%;
	  margin-top: 10px;
	  align-items:center;/*垂直居中*/
	}
	.dangerText {
		width: 100%;
		font-size: 16;
		color: #898989;
		text-align: center;
	}
	
	.titleView_pc {
		display: flex;
		flex-direction: row;
		align-items: center;
		margin-top: 20upx;
		width: 100%;
		height: 80upx;
		background-color: #FFFFFF;
		border-bottom-width: 1px;
		border-bottom-style: solid;
		border-bottom-color: #F1F1F1;
	}
	.titleText_pc {
		margin-left: 30upx;
		color: #666666;
		width: 100%;
		text-align: left;
		font-size: 32upx;
	}
	.titleSubText_pc {
		width: 200upx;
		margin-right: 10upx;
		color: #999999;
		text-align: right;
		font-size: 28upx;
	}
	/*顶部统计*/
	.moreCount {
		position: absolute;
		top: 10upx;
		right: 10upx;
		color: #FFFFFF;
		font-size: 16;
	}
	.topView_pc {
		width: 100%;
		display: flex;
		flex-wrap: wrap;
		flex-direction: row;
		justify-content: space-around;
		background-color: #2D68AA;
	}
	.topItemView {
		width: 30%;
		height: 240upx;
		/* background-color: #2D68AA; */
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
	}
	.topTextTitle {
		width: 100%;
		text-align: center;
		color: #FFFFFF;
		font-size: 30upx;
	}
	.topTextNum {
		width: 100%;
		text-align: center;
		color: #FFFFFF;
		font-size: 40upx;
	}
	.arrow {
		width: 15upx;
		height: 240upx;
		margin-right: 10upx;
	}
	
</style>
